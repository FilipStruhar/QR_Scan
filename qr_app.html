<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
</head>
<body>
    <button onclick="startScanner()">Scan QR Code</button>
    <div id="reader" style="width: 300px; display: none;"></div>
    <p>Scanned QR Code: <span id="result"></span></p>

    <script>
        let scannedValue = ""; // Variable to store QR code value

        function startScanner() {
            document.getElementById("reader").style.display = "block"; // Show scanner UI
            const html5QrCode = new Html5Qrcode("reader");

            html5QrCode.start(
                { facingMode: "environment" },  // Use rear camera
                { fps: 10, qrbox: 250 },
                qrCodeMessage => {
                    scannedValue = qrCodeMessage; // Store the QR code value
                    document.getElementById("result").innerText = scannedValue;
                    console.log("Scanned QR Code:", scannedValue);
                    html5QrCode.stop(); // Stop scanning
                    document.getElementById("reader").style.display = "none"; // Hide scanner UI
                },
                errorMessage => {
                    // Handle errors or ignore them
                }
            ).catch(err => console.error(err));
        }
    </script>
</body>
</html>
